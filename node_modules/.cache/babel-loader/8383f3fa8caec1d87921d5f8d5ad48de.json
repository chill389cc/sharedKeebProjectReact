{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chill/Code/School/sharedKeebProjectReact/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/chill/Code/School/sharedKeebProjectReact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/chill/Code/School/sharedKeebProjectReact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useOutletContext,useNavigate}from\"react-router-dom\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var About=function About(){var _useOutletContext=useOutletContext(),_useOutletContext2=_slicedToArray(_useOutletContext,2),user=_useOutletContext2[0],setUser=_useOutletContext2[1];var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),subject=_useState4[0],setSubject=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),body=_useState6[0],setBody=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),imageUrl=_useState8[0],setImageUrl=_useState8[1];var navigate=useNavigate();var makePost=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,fetchedPost;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(user){_context.next=5;break;}alert('You must be logged in to make a post');return _context.abrupt(\"return\");case 5:if(!(!title||!subject||!body||!imageUrl)){_context.next=8;break;}alert('Please fill in all fields');return _context.abrupt(\"return\");case 8:_context.prev=8;_context.next=11;return fetch('/api/posts',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({title:title,subject:subject,body:body,imageUrl:imageUrl,user:user.username})});case 11:response=_context.sent;_context.next=18;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](8);console.log('error',JSON.stringify(_context.t0));return _context.abrupt(\"return\");case 18:if(!(response.status===200)){_context.next=26;break;}_context.next=21;return response.json();case 21:fetchedPost=_context.sent;console.log(fetchedPost);navigate('/mongoCP/build/');_context.next=27;break;case 26:console.log('error making post ',response);case 27:case\"end\":return _context.stop();}}},_callee,null,[[8,14]]);}));return function makePost(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row justify-content-around\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"card-title\",children:\"New Post\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"shortTitle\",children:\"Short Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"shortTitle\",name:\"title\",onChange:function onChange(e){return setTitle(e.target.value);},placeholder:\"Enter title\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"longTitle\",children:\"Detailed Title\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"longTitle\",name:\"title\",onChange:function onChange(e){return setSubject(e.target.value);},placeholder:\"Enter title\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",id:\"description\",name:\"description\",onChange:function onChange(e){return setBody(e.target.value);},rows:\"3\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",children:\"URL to Image (upload it on a site like imgur and post the url here):\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control-file\",multiple:\"multiple\",onChange:function onChange(e){return setImageUrl(e.target.value);},id:\"image\",name:\"image\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",id:\"username\",name:\"username\",placeholder:user.username,disabled:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:makePost,children:\"Submit\"})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-4 post-detail-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"page-header header\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Remember the Forum Rules:\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"page-content\",children:/*#__PURE__*/_jsxs(\"ol\",{className:\"list-group list-group-flush\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:\"1. Be respectful to others.\"}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:\"2. Do not spam.\"}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[\"3. \",/*#__PURE__*/_jsx(\"strong\",{children:\"Do not post anything illegal.\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[\"4. \",/*#__PURE__*/_jsx(\"strong\",{children:\"Do not post anything that is not keyboard related.\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[\"5. \",/*#__PURE__*/_jsx(\"strong\",{children:\"No AI generated keyboards\"})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[\"6. \",/*#__PURE__*/_jsx(\"strong\",{children:\"No keyboards that are not mechanical\"})]}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:\"7. No Web Scraping (our data stays here)\"}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:\"8. Have fun!\"})]})})]})]})})});};export default About;","map":{"version":3,"names":["useOutletContext","useNavigate","useState","About","user","setUser","title","setTitle","subject","setSubject","body","setBody","imageUrl","setImageUrl","navigate","makePost","alert","fetch","method","headers","JSON","stringify","username","response","console","log","status","json","fetchedPost","e","target","value"],"sources":["/Users/chill/Code/School/sharedKeebProjectReact/src/pages/NewPost.js"],"sourcesContent":["import { useOutletContext, useNavigate } from \"react-router-dom\";\nimport {useState} from \"react\";\n\n\nconst About = () => {\n  const [user, setUser] = useOutletContext()\n  const [title, setTitle] = useState('');\n  const [subject, setSubject] = useState('');\n  const [body, setBody] = useState('');\n  const [imageUrl, setImageUrl] = useState('');\n  let navigate = useNavigate()\n\n\n  const makePost = async () => {\n    if (!user) {\n      alert('You must be logged in to make a post')\n      return\n    } else if (!title || !subject || !body || !imageUrl) {\n      alert('Please fill in all fields')\n      return\n    }\n    let response\n    try {\n      response = await fetch('/api/posts', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          title,\n          subject,\n          body,\n          imageUrl,\n          user: user.username\n        })\n      })\n    } catch (e) {\n      console.log('error',JSON.stringify(e))\n      return\n    }\n    if (response.status === 200) {\n      let fetchedPost = await response.json()\n      console.log(fetchedPost)\n      navigate('/mongoCP/build/')\n    } else {\n      console.log('error making post ', response)\n    }\n  }\n\n  return (\n    <>\n      <div className=\"container\">\n        <div className=\"row justify-content-around\">\n          <div className=\"col-lg-8\">\n            <div className=\"card\">\n              <div className=\"card-body\">\n                <h5 className=\"card-title\">New Post</h5>\n                {/*<form>*/}\n                  <div className=\"form-group\">\n                    <label htmlFor=\"shortTitle\">Short Title</label>\n                    <input type=\"text\" className=\"form-control\" id=\"shortTitle\" name=\"title\" onChange={e => setTitle(e.target.value)} placeholder=\"Enter title\"/>\n                  </div>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"longTitle\">Detailed Title</label>\n                    <input type=\"text\" className=\"form-control\" id=\"longTitle\" name=\"title\" onChange={e => setSubject(e.target.value)} placeholder=\"Enter title\"/>\n                  </div>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"description\">Description</label>\n                    <textarea className=\"form-control\" id=\"description\" name=\"description\" onChange={e => setBody(e.target.value)} rows=\"3\"></textarea>\n                  </div>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"image\">URL to Image (upload it on a site like imgur and post the url here):</label>\n                    <input type=\"text\" className=\"form-control-file\" multiple=\"multiple\" onChange={e => setImageUrl(e.target.value)} id=\"image\" name=\"image\"/>\n                  </div>\n                  <div className=\"form-group\">\n                    <label htmlFor=\"username\">Username</label>\n                    <input type=\"text\" className=\"form-control\" id=\"username\" name=\"username\"\n                           placeholder={user.username} disabled/>\n                  </div>\n                  <button type=\"submit\" className=\"btn btn-primary\" onClick={makePost}>Submit</button>\n                {/*</form>*/}\n              </div>\n            </div>\n          </div>\n          <div className=\"col-md-4 post-detail-col\">\n            <div className=\"page-header header\">\n              <h3>Remember the Forum Rules:</h3>\n            </div>\n            <div className=\"page-content\">\n              <ol className=\"list-group list-group-flush\">\n                <li className=\"list-group-item\">\n                  1. Be respectful to others.\n                </li>\n                <li className=\"list-group-item\">\n                  2. Do not spam.\n                </li>\n                <li className=\"list-group-item\">\n                  3. <strong>Do not post anything illegal.</strong>\n                </li>\n                <li className=\"list-group-item\">\n                  4. <strong>Do not post anything that is not keyboard related.</strong>\n                </li>\n                <li className=\"list-group-item\">\n                  5. <strong>No AI generated keyboards</strong>\n                </li>\n                <li className=\"list-group-item\">\n                  6. <strong>No keyboards that are not mechanical</strong>\n                </li>\n                <li className=\"list-group-item\">\n                  7. No Web Scraping (our data stays here)\n                </li>\n                <li className=\"list-group-item\">\n                  8. Have fun!\n                </li>\n              </ol>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  )\n};\n\nexport default About;"],"mappings":"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"},"metadata":{},"sourceType":"module"}