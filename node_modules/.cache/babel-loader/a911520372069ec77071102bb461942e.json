{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chill/Code/School/sharedKeebProjectReact/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/chill/Code/School/sharedKeebProjectReact/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/chill/Code/School/sharedKeebProjectReact/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Outlet,Link}from\"react-router-dom\";import{useState,useEffect}from'react';import backgroundImage from\"./../img/flickr-banner.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Layout=function Layout(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),user=_useState6[0],setUser=_useState6[1];var login=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,fetchedUser;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch('/api/user/'+username+'/'+password);case 3:response=_context.sent;_context.next=10;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);console.log('error',JSON.stringify(_context.t0));return _context.abrupt(\"return\");case 10:if(!(response.status===200)){_context.next=17;break;}_context.next=13;return response.json();case 13:fetchedUser=_context.sent;setUser(fetchedUser.user);_context.next=18;break;case 17:if(response.status===401){alert('incorrect password');}else{console.log('error in logging in ',response);}case 18:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);}));return function login(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card banner bg-dark text-white\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"card-img\",src:backgroundImage,style:{opacity:0.5},alt:\"Keyboard\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-img-overlay centered\",children:/*#__PURE__*/_jsx(\"h1\",{className:\"card-title\",children:\"Keyboard Klique\"})})]}),/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-dark sticky-top\",children:[/*#__PURE__*/_jsx(Link,{className:\"navbar-brand\",to:\"/mongoCP/build/\",children:\"Keyboard Klique\"}),/*#__PURE__*/_jsx(\"button\",{className:\"navbar-toggler\",type:\"button\",\"data-toggle\":\"collapse\",\"data-target\":\"#navbarSupportedContent\",\"aria-controls\":\"navbarSupportedContent\",\"aria-expanded\":\"false\",\"aria-label\":\"Toggle navigation\",children:/*#__PURE__*/_jsx(\"span\",{className:\"navbar-toggler-icon\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"collapse navbar-collapse\",id:\"navbarSupportedContent\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"navbar-nav mr-auto\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{className:\"nav-link\",to:\"/mongoCP/build/\",children:[\"Home\",/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"(current)\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"/mongoCP/build/About\",children:\"About\"})})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"navbar-nav ml-auto\",children:user.username?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{className:\"nav-link\",to:\"\",onClick:function onClick(){return setUser({});},children:\"Logout\"})})}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Username\",value:username,onChange:function onChange(e){return setUsername(e.target.value);}}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary loginButton\",onClick:login,children:\"Login/Register\"})]})})})]})]}),/*#__PURE__*/_jsx(Outlet,{context:[user,setUser]}),/*#__PURE__*/_jsx(\"footer\",{className:\"bg-dark\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row text-light\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm text-center\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2022 Keyboard Klique\"}),/*#__PURE__*/_jsx(\"p\",{children:\"All Images are property of Caleb Hill\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"Authors:\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Caleb Hill\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Ethan Borsky\"}),/*#__PURE__*/_jsx(\"a\",{href:\"https://github.com/chill389cc/sharedKeyboardProject\",children:\"GitHub Repo\"})]})]})})})]});};export default Layout;","map":{"version":3,"names":["Outlet","Link","useState","useEffect","backgroundImage","Layout","username","setUsername","password","setPassword","user","setUser","login","fetch","response","console","log","JSON","stringify","status","json","fetchedUser","alert","opacity","e","target","value"],"sources":["/Users/chill/Code/School/sharedKeebProjectReact/src/pages/Layout.js"],"sourcesContent":["import { Outlet, Link } from \"react-router-dom\"\nimport { useState, useEffect } from 'react'\nimport backgroundImage from \"./../img/flickr-banner.jpg\"\n\nconst Layout = () => {\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState({})\n\n  const login = async () => {\n    let response\n    try {\n      response = await fetch('/api/user/' + username + '/' + password)\n    } catch (e) {\n      console.log('error',JSON.stringify(e))\n      return\n    }\n    //   console.log('error in logging in ', e)\n    // }\n    if (response.status === 200) {\n      let fetchedUser = await response.json()\n      setUser(fetchedUser.user)\n    } else if (response.status === 401) {\n      alert('incorrect password')\n    } else {\n      console.log('error in logging in ', response)\n    }\n  }\n\n  return (\n    <>\n      <div className=\"card banner bg-dark text-white\">\n        <img className=\"card-img\" src={backgroundImage} style={{opacity: 0.5}} alt=\"Keyboard\"/>\n          <div className=\"card-img-overlay centered\">\n            <h1 className=\"card-title\">Keyboard Klique</h1>\n          </div>\n      </div>\n      <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark sticky-top\">\n        <Link className=\"navbar-brand\" to=\"/mongoCP/build/\">Keyboard Klique</Link>\n        <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\"\n                aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n          <span className=\"navbar-toggler-icon\"></span>\n        </button>\n        <div className=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n          <ul className=\"navbar-nav mr-auto\">\n            <li className=\"nav-item\">\n              <Link className=\"nav-link\" to=\"/mongoCP/build/\">Home<span className=\"sr-only\">(current)</span></Link>\n            </li>\n            <li className=\"nav-item\">\n              <Link className=\"nav-link\" to=\"/mongoCP/build/About\">About</Link>\n            </li>\n          </ul>\n          <ul className=\"navbar-nav ml-auto\">\n            { user.username ? (\n              <>\n                <li className=\"nav-item\">\n                  <Link className=\"nav-link\"  to=\"\" onClick={() => setUser({})}>Logout</Link>\n                </li>\n              </>\n            ) : (\n              <>\n                <li className=\"nav-item\">\n                  <input type=\"text\" placeholder=\"Username\" value={username} onChange={e => setUsername(e.target.value)}/>\n                  <input type=\"password\" placeholder=\"Password\" value={password} onChange={e => setPassword(e.target.value)}/>\n                  <button className=\"btn btn-primary loginButton\" onClick={login}>Login/Register</button>\n                </li>\n              </>\n            )}\n          </ul>\n        </div>\n      </nav>\n\n      <Outlet context={[user, setUser]}  />\n\n      <footer className=\"bg-dark\">\n        <div className=\"container\">\n          <div className=\"row text-light\">\n            <div className=\"col-sm text-center\">\n              <p>Â© 2022 Keyboard Klique</p>\n              <p>All Images are property of Caleb Hill</p>\n            </div>\n            <div className=\"col-sm\"></div>\n            <div className=\"col-sm\">\n              <p>Authors:</p>\n              <p>Caleb Hill</p>\n              <p>Ethan Borsky</p>\n              <a href=\"https://github.com/chill389cc/sharedKeyboardProject\">GitHub Repo</a>\n            </div>\n          </div>\n        </div>\n      </footer>\n    </>\n  )\n};\n\nexport default Layout;\n"],"mappings":"+ZAAA,OAASA,MAAM,CAAEC,IAAI,KAAQ,kBAAkB,CAC/C,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAOC,gBAAe,KAAM,4BAA4B,8IAExD,GAAMC,OAAM,CAAG,QAATA,OAAM,EAAS,CACnB,cAAgCH,QAAQ,CAAC,EAAE,CAAC,wCAArCI,QAAQ,eAAEC,WAAW,eAC5B,eAAgCL,QAAQ,CAAC,EAAE,CAAC,yCAArCM,QAAQ,eAAEC,WAAW,eAC5B,eAAwBP,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAA7BQ,IAAI,eAAEC,OAAO,eAEpB,GAAMC,MAAK,4FAAG,oMAGOC,MAAK,CAAC,YAAY,CAAGP,QAAQ,CAAG,GAAG,CAAGE,QAAQ,CAAC,QAAhEM,QAAQ,8FAERC,OAAO,CAACC,GAAG,CAAC,OAAO,CAACC,IAAI,CAACC,SAAS,aAAG,CAAC,+CAKpCJ,QAAQ,CAACK,MAAM,GAAK,GAAG,kDACDL,SAAQ,CAACM,IAAI,EAAE,SAAnCC,WAAW,eACfV,OAAO,CAACU,WAAW,CAACX,IAAI,CAAC,gCACpB,GAAII,QAAQ,CAACK,MAAM,GAAK,GAAG,CAAE,CAClCG,KAAK,CAAC,oBAAoB,CAAC,CAC7B,CAAC,IAAM,CACLP,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAEF,QAAQ,CAAC,CAC/C,CAAC,oEACF,kBAlBKF,MAAK,0CAkBV,CAED,mBACE,wCACE,aAAK,SAAS,CAAC,gCAAgC,wBAC7C,YAAK,SAAS,CAAC,UAAU,CAAC,GAAG,CAAER,eAAgB,CAAC,KAAK,CAAE,CAACmB,OAAO,CAAE,GAAG,CAAE,CAAC,GAAG,CAAC,UAAU,EAAE,cACrF,YAAK,SAAS,CAAC,2BAA2B,uBACxC,WAAI,SAAS,CAAC,YAAY,6BAAqB,EAC3C,GACJ,cACN,aAAK,SAAS,CAAC,wDAAwD,wBACrE,KAAC,IAAI,EAAC,SAAS,CAAC,cAAc,CAAC,EAAE,CAAC,iBAAiB,6BAAuB,cAC1E,eAAQ,SAAS,CAAC,gBAAgB,CAAC,IAAI,CAAC,QAAQ,CAAC,cAAY,UAAU,CAAC,cAAY,yBAAyB,CACrG,gBAAc,wBAAwB,CAAC,gBAAc,OAAO,CAAC,aAAW,mBAAmB,uBACjG,aAAM,SAAS,CAAC,qBAAqB,EAAQ,EACtC,cACT,aAAK,SAAS,CAAC,0BAA0B,CAAC,EAAE,CAAC,wBAAwB,wBACnE,YAAI,SAAS,CAAC,oBAAoB,wBAChC,WAAI,SAAS,CAAC,UAAU,uBACtB,MAAC,IAAI,EAAC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,iBAAiB,+BAAK,aAAM,SAAS,CAAC,SAAS,uBAAiB,GAAO,EAClG,cACL,WAAI,SAAS,CAAC,UAAU,uBACtB,KAAC,IAAI,EAAC,SAAS,CAAC,UAAU,CAAC,EAAE,CAAC,sBAAsB,mBAAa,EAC9D,GACF,cACL,WAAI,SAAS,CAAC,oBAAoB,UAC9Bb,IAAI,CAACJ,QAAQ,cACb,sCACE,WAAI,SAAS,CAAC,UAAU,uBACtB,KAAC,IAAI,EAAC,SAAS,CAAC,UAAU,CAAE,EAAE,CAAC,EAAE,CAAC,OAAO,CAAE,yBAAMK,QAAO,CAAC,CAAC,CAAC,CAAC,EAAC,oBAAc,EACxE,EACJ,cAEH,sCACE,YAAI,SAAS,CAAC,UAAU,wBACtB,cAAO,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAEL,QAAS,CAAC,QAAQ,CAAE,kBAAAkB,CAAC,QAAIjB,YAAW,CAACiB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,cACxG,cAAO,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,UAAU,CAAC,KAAK,CAAElB,QAAS,CAAC,QAAQ,CAAE,kBAAAgB,CAAC,QAAIf,YAAW,CAACe,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,cAC5G,eAAQ,SAAS,CAAC,6BAA6B,CAAC,OAAO,CAAEd,KAAM,4BAAwB,GACpF,EAER,EACE,GACD,GACF,cAEN,KAAC,MAAM,EAAC,OAAO,CAAE,CAACF,IAAI,CAAEC,OAAO,CAAE,EAAI,cAErC,eAAQ,SAAS,CAAC,SAAS,uBACzB,YAAK,SAAS,CAAC,WAAW,uBACxB,aAAK,SAAS,CAAC,gBAAgB,wBAC7B,aAAK,SAAS,CAAC,oBAAoB,wBACjC,gDAA6B,cAC7B,4DAA4C,GACxC,cACN,YAAK,SAAS,CAAC,QAAQ,EAAO,cAC9B,aAAK,SAAS,CAAC,QAAQ,wBACrB,+BAAe,cACf,iCAAiB,cACjB,mCAAmB,cACnB,UAAG,IAAI,CAAC,qDAAqD,yBAAgB,GACzE,GACF,EACF,EACC,GACR,CAEP,CAAC,CAED,cAAeN,OAAM"},"metadata":{},"sourceType":"module"}