{"ast":null,"code":"function top(subreddit) {\n  return listing({\n    subreddit: subreddit,\n    resource: \"top\"\n  }, [\"t\"]);\n}\nfunction listing(on, extras) {\n  extras = extras || [];\n  return withFilters(on, [\"after\", \"before\", \"count\", \"limit\", \"show\"].concat(extras));\n}\nfunction withFilters(on, filters) {\n  var ret = {};\n  on.params = on.params || {};\n  filters = filters || [];\n  var without = function (object, key) {\n    var ret = {};\n    for (var prop in object) {\n      if (object.hasOwnProperty(prop) && prop !== key) {\n        ret[prop] = object[prop];\n      }\n    }\n    return ret;\n  };\n  var filter = function (f) {\n    if (f === \"show\") {\n      return function () {\n        on.params[f] = \"all\";\n        return without(this, f);\n      };\n    } else {\n      return function (arg) {\n        on.params[f] = arg;\n        return without(this, f);\n      };\n    }\n  };\n  for (var i = 0; i < filters.length; i++) {\n    ret[filters[i]] = filter(filters[i]);\n  }\n  ret.fetch = function (res, err) {\n    getJSON(redditUrl(on), res, err);\n  };\n  return ret;\n}\nfunction redditUrl(on) {\n  var url = \"https://www.reddit.com/\";\n  var keys = function (object) {\n    var ret = [];\n    for (var prop in object) {\n      if (object.hasOwnProperty(prop)) {\n        ret.push(prop);\n      }\n    }\n    return ret;\n  };\n  if (on.subreddit !== undefined) {\n    url += \"r/\" + on.subreddit + \"/\";\n  }\n  url += on.resource + \".json\";\n  if (keys(on.params).length > 0) {\n    var qs = [];\n    for (var param in on.params) {\n      if (on.params.hasOwnProperty(param)) {\n        qs.push(encodeURIComponent(param) + \"=\" + encodeURIComponent(on.params[param]));\n      }\n    }\n    url += \"?\" + qs.join(\"&\");\n  }\n  return url;\n}\nfunction getJSON(url, res, err) {\n  get(url, function (data) {\n    res(JSON.parse(data));\n  }, err);\n}\nfunction get(url, res, err) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", url, true);\n  xhr.onload = function () {\n    return res(xhr.response);\n  };\n  xhr.onerror = function () {\n    if (err !== undefined) {\n      return err(xhr.response);\n    }\n  };\n  xhr.send();\n}\nexports.top = top;","map":{"version":3,"names":["top","subreddit","listing","resource","on","extras","withFilters","concat","filters","ret","params","without","object","key","prop","hasOwnProperty","filter","f","arg","i","length","fetch","res","err","getJSON","redditUrl","url","keys","push","undefined","qs","param","encodeURIComponent","join","get","data","JSON","parse","xhr","XMLHttpRequest","open","onload","response","onerror","send","exports"],"sources":["/Users/chill/Code/School/sharedKeebProjectReact/src/redditAPI.js"],"sourcesContent":["function top (subreddit) {\n  return listing({\n    subreddit: subreddit,\n    resource: \"top\"\n  }, [\"t\"]);\n}\n\nfunction listing(on, extras) {\n  extras = extras || [];\n  return withFilters(on, [\"after\", \"before\", \"count\", \"limit\", \"show\"].concat(extras));\n}\n\nfunction withFilters(on, filters) {\n  var ret = {};\n  on.params = on.params || {};\n  filters = filters || [];\n\n  var without = function (object, key) {\n    var ret = {};\n    for (var prop in object) {\n      if (object.hasOwnProperty(prop) && prop !== key) {\n        ret[prop] = object[prop];\n      }\n    }\n    return ret;\n  };\n\n  var filter = function (f) {\n    if (f === \"show\") {\n      return function () {\n        on.params[f] = \"all\";\n        return without(this, f);\n      };\n    } else {\n      return function (arg) {\n        on.params[f] = arg;\n        return without(this, f);\n      };\n    }\n  };\n\n  for (var i = 0; i < filters.length; i++) {\n    ret[filters[i]] = filter(filters[i]);\n  }\n  ret.fetch = function (res, err) {\n    getJSON(redditUrl(on), res, err);\n  };\n  return ret;\n}\n\nfunction redditUrl(on) {\n  var url = \"https://www.reddit.com/\";\n  var keys = function (object) {\n    var ret = [];\n    for (var prop in object) {\n      if (object.hasOwnProperty(prop)) {\n        ret.push(prop);\n      }\n    }\n    return ret;\n  };\n\n  if (on.subreddit !== undefined) {\n    url += \"r/\" + on.subreddit + \"/\";\n  }\n  url += on.resource + \".json\";\n  if (keys(on.params).length > 0) {\n    var qs = [];\n    for (var param in on.params) {\n      if (on.params.hasOwnProperty(param)) {\n        qs.push(encodeURIComponent(param) + \"=\" +\n          encodeURIComponent(on.params[param]));\n      }\n    }\n    url += \"?\" + qs.join(\"&\");\n  }\n  return url;\n}\n\nfunction getJSON(url, res, err) {\n  get(url, function (data) {\n    res(JSON.parse(data));\n  }, err);\n}\n\nfunction get(url, res, err) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(\"GET\", url, true);\n  xhr.onload = function () {\n    return res(xhr.response);\n  };\n  xhr.onerror = function () {\n    if (err !== undefined) {\n      return err(xhr.response);\n    }\n  };\n  xhr.send();\n}\n\nexports.top = top\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}